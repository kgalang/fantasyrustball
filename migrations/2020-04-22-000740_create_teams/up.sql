CREATE TABLE teams (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name VARCHAR(100) NOT NULL,
  wins INT DEFAULT 0,
  losses INT DEFAULT 0,
  ties INT DEFAULT 0,
  league_id UUID NOT NULL REFERENCES leagues (id) ON DELETE CASCADE
);

CREATE TABLE team_players (
  id UUID NOT NULL PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES users (id) ON DELETE CASCADE,
  team_id UUID NOT NULL REFERENCES teams (id) ON DELETE CASCADE
);

CREATE TABLE team_owners (
  id UUID NOT NULL PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES users (id) ON DELETE CASCADE,
  team_id UUID NOT NULL REFERENCES teams (id) ON DELETE CASCADE
);


INSERT INTO teams (id, name, league_id) VALUES 
  ('00000000-0000-0000-0000-000000000000', 'Test Team', '00000000-0000-0000-0000-000000000000');

INSERT INTO users (id, first_name, last_name, email, password) values 
  ('11111111-1111-1111-1111-111111111111', 'player', 'one', 'playerone@test.com', '123'),
  ('22222222-2222-2222-2222-222222222222', 'player', 'two', 'playertwo@test.com', '123'),
  ('33333333-3333-3333-3333-333333333333', 'owner', 'test', 'owner@test.com', '123');

INSERT INTO team_players (id, user_id, team_id) VALUES 
  ('00000000-0000-0000-0000-000000000000', '11111111-1111-1111-1111-111111111111', '00000000-0000-0000-0000-000000000000'),
  ('11111111-1111-1111-1111-111111111111', '22222222-2222-2222-2222-222222222222', '00000000-0000-0000-0000-000000000000');

INSERT INTO team_owners (id, user_id, team_id) VALUES
  ('00000000-0000-0000-0000-000000000000', '33333333-3333-3333-3333-333333333333', '00000000-0000-0000-0000-000000000000');